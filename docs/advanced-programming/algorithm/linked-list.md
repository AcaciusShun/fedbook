# 数据结构之链表

## 1. 链表的定义

我们知道，数组需要一块**连续的内存空间**来存储，对内存的要求比较高。如果我们申请一个 100MB 大小的数组，当内存中没有连续的、足够大的存储空间时，即便内存的剩余总可用空间大于 100MB，仍然会申请失败。

而链表（Linked List）恰恰相反，它并不需要一块连续的内存空间，它通过「指针」将一组**零散的内存块**串联起来使用，所以如果我们申请的是 100MB 大小的链表，就不会有问题。

## 2. 链表的类型

链表结构五花八门，最常见的三种链表结构是：单链表、双向链表和循环链表。

### 1.1 单链表

链表通过指针将一组零散的内存块串联在一起。其中，我们把内存块称为链表的「**结点**」。为了将所有的结点串起来，每个链表的结点除了存储数据之外，还需要记录链上的下一个结点的地址。

如图所示，我们把这个记录下个结点地址的指针叫作**后继指针 next**。

<div style="text-align: center;">
  <svg id="SvgjsSvg1006" width="761" height="91" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1064" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1065" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1068" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1069" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1072" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1073" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1076" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1077" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1080" markerWidth="16" markerHeight="12" refX="0" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1081" d="M15,1.5 L2,6 L15,10.5" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1008" transform="translate(73,25)"><path id="SvgjsPath1009" d="M 0 0L 56 0L 56 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1010"><text id="SvgjsText1011" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1012" dy="20" x="28"><tspan id="SvgjsTspan1013" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1014" transform="translate(129,25)"><path id="SvgjsPath1015" d="M 0 0L 54 0L 54 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1016"><text id="SvgjsText1017" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="34px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1018" dy="20" x="27"><tspan id="SvgjsTspan1019" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1020" transform="translate(227,25)"><path id="SvgjsPath1021" d="M 0 0L 56 0L 56 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1022"><text id="SvgjsText1023" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1024" dy="20" x="28"><tspan id="SvgjsTspan1025" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1026" transform="translate(283,25)"><path id="SvgjsPath1027" d="M 0 0L 54 0L 54 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1028"><text id="SvgjsText1029" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="34px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1030" dy="20" x="27"><tspan id="SvgjsTspan1031" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1032" transform="translate(379,25)"><path id="SvgjsPath1033" d="M 0 0L 56 0L 56 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1034"><text id="SvgjsText1035" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1036" dy="20" x="28"><tspan id="SvgjsTspan1037" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1038" transform="translate(435,25)"><path id="SvgjsPath1039" d="M 0 0L 54 0L 54 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1040"><text id="SvgjsText1041" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="34px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1042" dy="20" x="27"><tspan id="SvgjsTspan1043" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1044" transform="translate(530,25)"><path id="SvgjsPath1045" d="M 0 0L 56 0L 56 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1046"><text id="SvgjsText1047" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1048" dy="20" x="28"><tspan id="SvgjsTspan1049" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1050" transform="translate(586,25)"><path id="SvgjsPath1051" d="M 0 0L 54 0L 54 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1052"><text id="SvgjsText1053" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="34px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1054" dy="20" x="27"><tspan id="SvgjsTspan1055" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1056" transform="translate(685,25.5)"><path id="SvgjsPath1057" d="M 0 0L 51 0L 51 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1058"><text id="SvgjsText1059" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="51px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="7.6" transform="rotate(0)"><tspan id="SvgjsTspan1060" dy="20" x="25.5"><tspan id="SvgjsTspan1061" style="text-decoration:;">NULL</tspan></tspan></text></g></g><g id="SvgjsG1062"><path id="SvgjsPath1063" d="M183 45.5L205 45.5L205 45.5L227 45.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1064)"></path></g><g id="SvgjsG1066"><path id="SvgjsPath1067" d="M337 45.5L358 45.5L358 45.5L379 45.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1068)"></path></g><g id="SvgjsG1070"><path id="SvgjsPath1071" d="M489 45.5L509.5 45.5L509.5 45.5L530 45.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1072)"></path></g><g id="SvgjsG1074"><path id="SvgjsPath1075" d="M640 45.5L662.5 45.5L662.5 45.5L685 45.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1076)"></path></g><g id="SvgjsG1078"><path id="SvgjsPath1079" d="M73 45.5L49 45.5L49 45.5L25 45.5" stroke="#323232" stroke-width="2" fill="none" marker-start="url(#SvgjsMarker1080)"></path></g></svg>
  <p style="text-align:center; color: #888;">（单链表）</p>
</div>

在单链表中，有两个结点是比较特殊的，它们分别是第一个结点（也叫作**头结点**）和最后一个结点（也叫作**尾结点**）。

其中，头结点用来记录链表的基地址。有了它，我们可以遍历得到整条链表。而尾结点特殊的地方是：指针不是指向下一个结点，而是指向一个**空地址 NUL**L，表示这是链表上最后一个结点。

我们知道，在进行数组的插入、删除操作时，为了保持内存数据的连续性，需要做大量的数据搬移，所以时间复杂度是 `O(n)`。而在链表中插入或者删除一个数据，我们并不需要为了保持内存的连续性而搬移结点，因为链表的存储空间本身就不是连续的。所以，在链表中插入和删除一个数据是非常快速的，只需要考虑相邻结点的指针改变，所以对应的时间复杂度是 `O(1)`。

但是，链表随机访问的性能没有数组好，原因在于链表中的数据并非连续存储的，无法像数组那样，根据首地址和下标，通过寻址公式就能直接计算出对应的内存地址，而是需要根据指针一个结点一个结点地依次遍历，直到找到相应的结点。这个过程需要 `O(n)` 的时间复杂度。

### 1.2 循环链表
